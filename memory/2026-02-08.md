# 2026-02-08 â€” Container System Working!

## Major Milestone: Full Stack Running

### Router Complete
- Location: `/var/zaki-platform/router/index.js`
- Stack: Grammy (Telegram) + Dockerode (Docker management)
- tmux session: `zaki-router`
- Users stored: `/var/zaki-platform/router/users.json`

### Container Provisioning Working
- On first message â†’ container spins up automatically
- Container responds via API
- Users file tracks: telegram ID â†’ port mapping

### Config Format Solved
After much debugging, found correct Moonshot provider config from OpenClaw source:
```yaml
providers:
  moonshot:
    kind: openai
    apiBase: https://api.moonshot.ai/v1
    apiKey: sk-AwNlaCINvYe91ztHkT5C3LBkppxaj0hY7GdyBZemSwbn6Uqx
```

### API Working
- Endpoint: `POST /v1/chat/completions` with Bearer token
- Model: `moonshot/kimi-k2-0905-preview`

## Memory & Performance

### RAM Reality Check
- **Startup spike**: ~760MB
- **Settled**: ~360MB per container
- **Container limit**: 2GB memory, 1GB heap (`NODE_OPTIONS=--max-old-space-size=1024`)
- **Realistic capacity**: ~30 users per 12GB VM (not 100)

## Branding Deployed

### Correct Path Found
Files must go to: `/home/node/.openclaw/workspace/` (NOT mounted volume)

### Files Created
- `SOUL.md` â€” Zaki personality
- `IDENTITY.md` â€” Name, creature, vibe
- `USER.md` â€” Template for user info

### Confirmed Working
AI responds as "Zaki" with correct personality!

## Router Commands
- `/start` â€” Welcome message (casual copy)
- `/status` â€” Container health
- `/reset` â€” Wipe conversation
- `/help` â€” Available commands

## Current State
- Alaa's container: `zaki-user-1538298785` on port 19001
- Bot: @zakified_bot
- Total users: 1

## Strategic Decisions

### Fork OpenClaw â†’ Zaki Core
- Clone OpenClaw repo â†’ github.com/zakified/zaki-core
- Control branding, installation, updates
- White-label potential for agencies

### Update Architecture (Designing)
**Problem**: How to update containers while preserving user customizations?

**Key insight from discussion**:
- Separate **tools/access** (we control) from **persona** (user customizes)
- Container image = capabilities, tools, integrations
- Workspace files = personality, memories, preferences
- We push image updates, user data persists

### Mobile SDK Found
- `expo-openclaw-chat` â€” React Native SDK
- Can build native mobile app with this

## Next Steps
1. Fix router to copy branding files for new users
2. Fork OpenClaw â†’ Zaki Core
3. Landing page: zakified.com
4. Test second user (Abed)

## Landing Page Built! ðŸŽ‰

### Stack
- Framework: Astro (cloned from openclaw.ai)
- Location: `/root/zaki-platform/landing/`
- Running: `http://62.171.148.105:18790` (tmux: `zaki-landing`)

### Features
- Hero section with email capture
- 3-step deploy section
- Platform cards (Telegram, WhatsApp, Discord, Web)
- Features grid
- Stats section
- Pricing section
- FAQ accordion
- Fully Zaki branded (not OpenClaw)

### Pricing Decision (Final)
| Tier | Price | Model | API Key |
|------|-------|-------|---------|
| Free | $0 | Kimi K2 | Not needed |
| Pro | $20/mo | Claude Sonnet | Not needed |

**Key differentiator**: FREE tier with no API key required!

### Brand Colors
- Primary: Teal `#0D9488`
- Accent: Amber `#F59E0B`

### Cloned Repos
All in `/root/zaki-platform/repos/`:
- `openclaw.ai` â€” Landing page reference
- `openclaw-dashboard` â€” Dashboard reference
- `awesome-skills` â€” Skills catalog

## Technical Notes
- Image: `alpine/openclaw:latest` (4.2GB)
- User inside container: `node` (uid 1000)
- Port range: 19001+ (Alaa is 19001)
